<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Lá»i Táº¡m Biá»‡t ğŸ’œ</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&family=Great+Vibes&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    body {
      margin: 0;
      padding: 40px;
      min-height: 100vh;
      background: url('picture/nengiayne.jpg') center/cover no-repeat;
      background-size: 100% 100%;
      animation: slowGradient 20s ease infinite;
      color: #083242;
      font-family: 'Poppins', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      box-sizing: border-box;
      transition: background 1s ease;
    }

    @keyframes slowGradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    body.bg-image {
      background: url('picture/nen3.png') center/cover no-repeat;
      animation: none;
    }

    #content {
      max-width: 900px;
      background: rgba(249, 251, 252, 0.7);
      padding: 30px 40px;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.6);
      font-size: 1.15rem;
      line-height: 1.7;
      color: #ddd;
      margin-bottom: 30px;
      min-height: 420px;
      white-space: pre-wrap;
      position: relative;
      z-index: 1;
      transition: background 1s ease, color 1s ease;
    }

    #content.bg-white {
      background: rgba(241, 242, 243, 0.959);
      color: #0a0101;
    }

    h1 { 
      font-family: 'Great Vibes', cursive;
      font-size: 2.5em;
      margin-bottom: 25px;
      color: #08364b;
      text-align: center;
      font-weight: 700;
      text-shadow: 0 0 10px rgba(9, 55, 77, 0.7);
    }

    #playButton {
      padding: 12px 35px;
      font-size: 1.1em;
      font-weight: 700;
      border: none;
      border-radius: 50px;
      background: linear-gradient(135deg, #2563eb, #3b82f6);
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-bottom: 25px;
      box-shadow: 0 0 15px rgba(59, 130, 246, 0.6);
    }
    #playButton:hover {
      background: linear-gradient(135deg, #1d4ed8, #2563eb);
      transform: scale(1.05);
    }

    .heart {
      position: absolute;
      bottom: 0;
      animation: floatUpWave 8s ease-in-out forwards;
      user-select: none;
      pointer-events: none;
      color: #e879f9;
      font-size: 20px;
      will-change: transform;
      z-index: 999;
      text-shadow: 0 0 6px rgba(232,121,249,0.6);
    }

    @keyframes floatUpWave {
      0%   { transform: translateY(0) scale(1); opacity: 1; }
      100% { transform: translateY(-100vh) scale(0.8); opacity: 0; }
    }

    .explosion {
      position: absolute;
      font-size: 16px;
      opacity: 1;
      pointer-events: none;
      animation: explode 1s ease-out forwards;
    }
    @keyframes explode {
      0%   { transform: scale(0.5) translate(0,0); opacity: 1; }
      100% { transform: scale(1.5) translate(var(--x), var(--y)); opacity: 0; }
    }

    #logo {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 111px;
      pointer-events: none;
      user-select: none;
      filter: drop-shadow(0 0 3px rgba(0,0,0,0.5));
      z-index: 1000;
    }

    /* Modal máº­t kháº©u */
    #passwordModal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      z-index: 2000;
      justify-content: center;
      align-items: center;
    }
    #passwordModal .box {
      background: white;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      max-width: 300px;
    }
    #passwordModal input {
      width: 100%;
      padding: 8px;
      margin: 10px 0;
    }
  </style>
</head>
<body>

  <h1>Táº¡m biá»‡t vÃ  háº¹n gáº·p láº¡i â¤ï¸</h1>
  <button id="playButton">ğŸµ PhÃ¡t nháº¡c</button>
  <div id="content"></div>

  <!-- Nháº¡c chÃ­nh -->
  <audio id="audioMain" loop>
    <source src="amthanh/nhac.mp3" type="audio/mpeg" />
  </audio>
  <!-- Nháº¡c bÃ­ máº­t -->
  <audio id="audioSecret" loop>
    <source src="amthanh/nhac2.m4a" type="audio/mpeg" />
  </audio>
  <!-- Ã‚m thanh pop -->
  <audio id="popSound" src="amthanh/pop.mp3"></audio>

  <img src="picture/anh.webp" id="logo" alt="Logo">

  <!-- Modal máº­t kháº©u -->
  <div id="passwordModal">
    <div class="box">
      <h3>ğŸŒ¸ Máº­t mÃ£ bÃ­ máº­t</h3>
      <input type="password" id="passwordInput" placeholder="Nháº­p máº­t mÃ£">
      <br>
      <button onclick="checkPassword()">XÃ¡c nháº­n</button>
      <button onclick="closeModal()">Há»§y</button>
      <p id="errorMessage" style="color:red; display:none;">âŒ Sai máº­t mÃ£!</p>
      <p id="secretMessage" style="color:green; display:none;">ğŸ’Œ Ná»™i dung bÃ­ máº­t:<br>"Xin cáº£m Æ¡n, vÃ¬ sá»± hiá»‡n diá»‡n cá»§a báº¡n Ä‘Ã£ lÃ m má»i thá»© trá»Ÿ nÃªn dá»‹u dÃ ng hÆ¡n !"</p>
    </div>
  </div>

  <script>
    const icons = ['â¤ï¸','ğŸ’–','ğŸ’œ','ğŸ’•','ğŸ’—','ğŸ’','ğŸ’˜'];
    const flowers = ['ğŸŒ¸','ğŸŒº','ğŸŒ¼','ğŸŒ»','ğŸŒ·','ğŸ’'];
    const popSound = document.getElementById("popSound");
    const audioMain = document.getElementById("audioMain");
    const audioSecret = document.getElementById("audioSecret");
    
    let useFlowers = false;
    let specialHeartExists = false;
    let lastSpecialTime = Date.now();
    let lastSecretTime = Date.now();

    function createHeart(forceSpecial = false, forceSecret = false) {
      const heart = document.createElement('div');
      heart.classList.add('heart');

      let isSpecial = false;
      let isSecret = false;

      if (forceSpecial) {
        isSpecial = true;
      } else if (forceSecret) {
        isSecret = true;
      } else if (Math.random() < 0.05) {
        isSpecial = true;
      } else if (Math.random() < 0.52) {
        isSecret = true;
      }

      if (isSpecial) {
        heart.innerText = "ğŸ’› Click";
        heart.dataset.special = "true";
        heart.style.color = "#FFD700";
        heart.style.cursor = "pointer";
        heart.style.pointerEvents = "auto";
        specialHeartExists = true;
        lastSpecialTime = Date.now();

        heart.addEventListener("click", () => {
          alert("ğŸ‰ Báº¡n Ä‘Ã£ tÃ¬m Ä‘Æ°á»£c trÃ¡i tim may máº¯n ğŸ’›!\nğŸŒŸ ChÃºc báº¡n tháº­t nhiá»u niá»m vui vÃ  háº¡nh phÃºc!");
          heart.remove();
          specialHeartExists = false;
          lastSpecialTime = Date.now();
        });
      } 
      else if (isSecret) {
        heart.innerHTML = '<i class="fa-solid fa-envelope"></i>';
        heart.dataset.secret = "true";
        heart.style.cursor = "pointer";
        heart.style.pointerEvents = "auto";
        heart.style.fontSize = "26px";
        heart.style.color = "#2563eb";

        heart.addEventListener("click", () => {
          audioMain.pause();
          audioSecret.currentTime = 0;
          audioSecret.play();
          openModal();
          heart.remove();
          lastSecretTime = Date.now();
        });
      }
      else {
        heart.innerText = useFlowers 
          ? flowers[Math.floor(Math.random() * flowers.length)] 
          : icons[Math.floor(Math.random() * icons.length)];
      }

      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.fontSize = (18 + Math.random() * 12) + 'px';
      heart.style.animationDuration = (6 + Math.random() * 4) + 's';

      document.body.appendChild(heart);
      setTimeout(() => {
        if (document.body.contains(heart)) {
          heart.remove();
          if (heart.dataset.special) specialHeartExists = false;
        }
      }, 8000);
    }

    setInterval(() => createHeart(), 1200);

    setInterval(() => {
      const now = Date.now();
      if (!specialHeartExists && now - lastSpecialTime > 10000) {
        createHeart(true, false);
      }
    }, 2000);

    setInterval(() => {
      const now = Date.now();
      if (now - lastSecretTime > 20000) {
        createHeart(false, true);
      }
    }, 3000);

    // Click ngáº«u nhiÃªn táº¡o phÃ¡o hoa
    document.body.addEventListener("click", (e) => {
      if (e.target.classList.contains("heart")) return;
      const heart = document.createElement("div");
      heart.classList.add("heart");
      heart.innerText = useFlowers 
        ? flowers[Math.floor(Math.random() * flowers.length)] 
        : icons[Math.floor(Math.random() * icons.length)];
      heart.style.left = e.clientX + "px";
      heart.style.top = e.clientY + "px";
      heart.style.fontSize = (20 + Math.random() * 15) + "px";
      heart.style.animationDuration = "0.6s";

      document.body.appendChild(heart);

      setTimeout(() => {
        heart.remove();
        createExplosion(e.clientX, e.clientY);
      }, 600);
    });

    function createExplosion(x, y) {
      popSound.currentTime = 0;
      popSound.play();
      for (let i = 0; i < 12; i++) {
        const icon = useFlowers 
          ? flowers[Math.floor(Math.random() * flowers.length)] 
          : icons[Math.floor(Math.random() * icons.length)];
        const piece = document.createElement("div");
        piece.classList.add("explosion");
        piece.innerText = icon;
        piece.style.left = x + "px";
        piece.style.top = y + "px";
        const angle = (i / 12) * (2 * Math.PI);
        const distance = 120 + Math.random() * 50;
        piece.style.setProperty("--x", Math.cos(angle) * distance + "px");
        piece.style.setProperty("--y", Math.sin(angle) * distance + "px");
        document.body.appendChild(piece);
        setTimeout(() => piece.remove(), 1000);
      }
    }

    // Modal máº­t kháº©u
    function openModal() {
      document.getElementById("passwordModal").style.display = "flex";
    }
    function closeModal() {
      document.getElementById("passwordModal").style.display = "none";
    }
    function checkPassword() {
      const pass = document.getElementById("passwordInput").value;
      const errorMessage = document.getElementById("errorMessage");
      const secretMessage = document.getElementById("secretMessage");

      const validPasswords = ["kizciti2025", "duong", "love", "parttime"];

      if (validPasswords.includes(pass) || (pass && pass.toLowerCase().includes("n"))) {
        secretMessage.style.display = "block";
        errorMessage.style.display = "none";

        // Äá»•i nháº¡c sang bÃ­ máº­t
        audioMain.pause();
        audioSecret.currentTime = 0;
        audioSecret.play();

        // Báº­t cháº¿ Ä‘á»™ hoa
        useFlowers = true;

        // Äá»•i táº¥t cáº£ icon Ä‘ang bay thÃ nh hoa
        document.querySelectorAll(".heart").forEach(icon => {
          icon.innerText = flowers[Math.floor(Math.random() * flowers.length)];
          icon.style.color = "";
          icon.style.fontSize = "22px";
        });

      } else {
        errorMessage.style.display = "block";
        secretMessage.style.display = "none";
        audioSecret.pause();
        audioMain.currentTime = 0;
        audioMain.play();
      }
    }

    // Ná»™i dung gÃµ chá»¯
    const fullText = `KÃ­nh gá»­i toÃ n thá»ƒ anh chá»‹ Ä‘iá»u hÃ nh cÃ¹ng cÃ¡c anh chá»‹ HDV,

Em lÃ  Nguyá»…n TÃ¹ng DÆ°Æ¡ng, HDV Block 3. HÃ´m nay lÃ  ngÃ y cuá»‘i cÃ¹ng em lÃ m viá»‡c táº¡i KizCiti. Biáº¿t Ä‘áº¿n vÃ  Ä‘Æ°á»£c lÃ m viá»‡c táº¡i KizCiti lÃ  má»™t may máº¯n lá»›n Ä‘á»‘i vá»›i em. ÄÃ¢y cÅ©ng lÃ  má»™t trong nhá»¯ng cÃ´ng viá»‡c Ä‘áº§u tiÃªn em Ä‘áº£m nháº­n khi vá»«a Ä‘áº·t chÃ¢n Ä‘áº¿n HÃ  Ná»™i.

Tháº­t khÃ³ Ä‘á»ƒ nÃ³i lá»i táº¡m biá»‡t sau quÃ£ng thá»i gian gáº¯n bÃ³ vÃ  Ä‘á»“ng hÃ nh cÃ¹ng má»i ngÆ°á»i. Em muá»‘n gá»­i lá»i cáº£m Æ¡n sÃ¢u sáº¯c Ä‘áº¿n tá»«ng anh chá»‹ Ä‘iá»u hÃ nh vÃ  cÃ¡c báº¡n HDV â€“ nhá»¯ng ngÆ°á»i Ä‘Ã£ luÃ´n há»— trá»£, Ä‘á»“ng hÃ nh vÃ  giÃºp Ä‘á»¡ em trong suá»‘t thá»i gian qua, khÃ´ng chá»‰ vá» cÃ´ng viá»‡c mÃ  cÃ²n vá» tinh tháº§n, kiáº¿n thá»©c vÃ  nhá»¯ng tráº£i nghiá»‡m quÃ½ giÃ¡.

QuÃ£ng thá»i gian lÃ m viá»‡c táº¡i Ä‘Ã¢y cháº¯c cháº¯n lÃ  má»™t trong nhá»¯ng ká»· niá»‡m Ä‘Ã¡ng nhá»›, tÃ´ Ä‘iá»ƒm cho thanh xuÃ¢n cá»§a em thÃªm rá»±c rá»¡. Em ráº¥t trÃ¢n trá»ng mÃ´i trÆ°á»ng lÃ m viá»‡c thÃ¢n thiá»‡n, tinh tháº§n Ä‘oÃ n káº¿t vÃ  sá»± sáº» chia mÃ  má»i ngÆ°á»i Ä‘Ã£ táº¡o nÃªn. Náº¿u cÃ²n duyÃªn, hy vá»ng má»™t ngÃ y khÃ´ng xa em sáº½ gáº·p láº¡i má»i ngÆ°á»i vá»›i tÆ° cÃ¡ch HDV part-time áº¡ hihi.

Giá» Ä‘Ã¢y, khi bÆ°á»›c sang má»™t cháº·ng Ä‘Æ°á»ng má»›i, em sáº½ mang theo táº¥t cáº£ nhá»¯ng kÃ½ á»©c Ä‘áº¹p, tÃ¬nh cáº£m chÃ¢n thÃ nh vÃ  nhá»¯ng bÃ i há»c quÃ½ bÃ¡u mÃ  KizCiti Ä‘Ã£ trao táº·ng. Mong ráº±ng, dÃ¹ cÃ³ Ä‘i Ä‘Ã¢u, em vÃ  má»i ngÆ°á»i váº«n giá»¯ Ä‘Æ°á»£c má»‘i liÃªn há»‡ tá»‘t Ä‘áº¹p nÃ y vÃ  luÃ´n nhá»› vá» nhau vá»›i sá»± trÃ¢n trá»ng.

Em xin chÃºc KizCiti ngÃ y cÃ ng phÃ¡t triá»ƒn Ä‘Ã³n tháº­t nhiá»u Ä‘oÃ n vÃ  Ä‘Ã³n tháº­t rá»±c rá»¡, anh chá»‹ Ä‘iá»u hÃ nh cÃ¹ng cÃ¡c báº¡n HDV nhiá»u sá»©c khá»e, niá»m vui vÃ  thÃ nh cÃ´ng trong cÃ´ng viá»‡c cÅ©ng nhÆ° cuá»™c sá»‘ng. 

Má»™t láº§n ná»¯a, em xin gá»­i lá»i cáº£m Æ¡n vÃ  chÃ o táº¡m biá»‡t chÃ¢n thÃ nh nháº¥t!`;

    const contentEl = document.getElementById("content");
    let index = 0;
    function typeWriter() {
      if (index < fullText.length) {
        let char = fullText[index];
        contentEl.innerHTML += (char === '\n') ? "<br>" : char;
        index++;
        let delay = 30;
        if (".,!?".includes(char)) delay = 400;
        if (char === '\n') delay = 600;
        setTimeout(typeWriter, delay);
      }
    }

    function fadeIn(audio) {
      let volume = 0;
      const interval = setInterval(() => {
        if (volume < 0.5) {
          volume += 0.01;
          audio.volume = volume;
        } else clearInterval(interval);
      }, 150);
    }

    document.getElementById('playButton').addEventListener('click', () => {
      const btn = document.getElementById("playButton");
      document.body.classList.add('bg-image');
      contentEl.classList.add('bg-white');
      audioMain.volume = 0;
      audioMain.play().then(() => {
        fadeIn(audioMain);
        btn.style.opacity = '0';
        setTimeout(() => btn.style.display = 'none', 500);
      });
      typeWriter();
    });
  </script>
</body>
</html>
